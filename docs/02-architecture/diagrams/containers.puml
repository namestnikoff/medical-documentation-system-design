@startuml
!theme plain
title Компонентная структура медицинской системы

package "Frontend" {
  [Веб-клиент врача]
  [Веб-клиент регистратуры]
  [Кабинет пациента]
}
[API Gateway]
package "Сервисы" {
  [Пациенты]
  [Расписания]
  [Приёмы]
  [Документы]
  [Платные услуги]
  [Статистика]
  [Пользователи]
  [Аудит]
}
database "PostgreSQL"
actor "ЕГИСЗ"
actor "ЕСИА"
actor "Фед. справочники"

[Веб-клиент врача] -- [API Gateway]
[Веб-клиент регистратуры] -- [API Gateway]
[Кабинет пациента] -- [API Gateway]
[API Gateway] -- [Пациенты]
[API Gateway] -- [Расписания]
[API Gateway] -- [Приёмы]
[API Gateway] -- [Документы]
[API Gateway] -- [Платные услуги]
[API Gateway] -- [Статистика]
[API Gateway] -- [Пользователи]
[API Gateway] -- [Аудит]
[Пациенты] -- [PostgreSQL]
[Расписания] -- [PostgreSQL]
[Приёмы] -- [PostgreSQL]
[Документы] -- [PostgreSQL]
[Платные услуги] -- [PostgreSQL]
[Статистика] -- [PostgreSQL]
[Пользователи] -- [PostgreSQL]
[Аудит] -- [PostgreSQL]
[Документы] -.-> "ЕГИСЗ"
[Пользователи] -.-> "ЕСИА"
[Документы] -.-> "Фед. справочники"
@enduml
