# Нефункциональные требования

## Обзор

Нефункциональные требования определяют качественные характеристики системы: производительность, надёжность, безопасность и масштабируемость.

## Производительность

**NFR-001: Время отклика**
- API: < 200ms для 95% запросов
- Создание документа: ≤ 3 секунды
- Поиск: < 1 секунда

**NFR-002: Пропускная способность**
- Обработка минимум 20000 приёмов в день
- Средняя нагрузка: ~14 приёмов/минуту
- Пиковая нагрузка (3x): ~42 приёма/минуту

## Доступность и надёжность

**NFR-003: Доступность системы**
- Uptime: ≥ 99.9% (допустимый простой ~8.7 часов/год)
- RTO (время восстановления): ≤ 1 час
- RPO (потеря данных): ≤ 5 минут

**NFR-004: Отказоустойчивость интеграций**
- Автоматическая повторная отправка в ЕГИСЗ при сбоях
- Работа системы при недоступности внешних сервисов
- Очередь неотправленных документов

## Масштабируемость

**NFR-005: Горизонтальное масштабирование**
- Возможность добавления экземпляров сервисов без простоя
- Поддержка до 2000+ врачей при расширении

**NFR-006: Объём данных**
- Эффективная работа с БД до 10 TB
- Планирование на 5 лет эксплуатации

## Безопасность

**NFR-007: Аутентификация и авторизация**
- Многофакторная аутентификация (логин/пароль + SMS/TOTP)
- Интеграция с ЕСИА (Госуслуги)
- Ролевое управление доступом (RBAC)
- Минимум 6 ролей: врач, регистратор, администратор, бухгалтер, КМС, руководство

**NFR-008: Шифрование данных**
- Шифрование данных при хранении: AES-256 (алгоритм с 256-битным ключом)
- Шифрование данных при передаче: TLS 1.3 (защищённый протокол передачи)
- Шифрование чувствительных полей: СНИЛС, диагнозы, персональные данные

**NFR-009: Аудит действий**
- 100% логирование операций с персональными данными
- Фиксация: пользователь, действие, объект, timestamp, IP
- Неизменяемость логов (append-only)
- Хранение минимум 3 года (требование 152-ФЗ)

**NFR-010: Электронная подпись**
- Поддержка УКЭП (ГОСТ Р 34.10-2012)
- Проверка срока действия и статуса отзыва сертификата

## Удобство использования

**NFR-011: Интуитивность интерфейса**
- Минимальное обучение (не более 2 часов)
- 80% пользователей выполняют базовые задачи без обучения
- Работа в современных браузерах (Chrome, Firefox, Edge, Safari)

**NFR-012: Адаптивность**
- Поддержка основных разрешений: 1920x1080, 1366x768
- Без установки дополнительного ПО

## Соответствие стандартам

**NFR-013: Законодательное соответствие**
- ФЗ-152 "О персональных данных" — полное соответствие
- ФЗ-323 "Об основах охраны здоровья граждан" — поддержка обязательных форм
- Требования ЕГИСЗ — формат СЭМД CDA R2

**NFR-014: Интеграция и миграция**
- REST API для интеграции с внешними МИС
- Возможность миграции данных из существующих систем
- Экспорт/импорт в стандартных форматах

## Мониторинг и поддержка

**NFR-015: Наблюдаемость системы**
- Мониторинг метрик: CPU, RAM, Disk, задержки API, количество ошибок
- Логирование ошибок и исключений
- Алерты при критических событиях
- Трассировка распределённых запросов для отладки

## Приоритизация

### Критический приоритет
- NFR-002: Пропускная способность
- NFR-003: Доступность
- NFR-007, NFR-008, NFR-009, NFR-010: Безопасность (полный набор)
- NFR-013: Соответствие законодательству

### Высокий приоритет
- NFR-001: Производительность
- NFR-004: Отказоустойчивость
- NFR-005: Масштабируемость
- NFR-011: Удобство использования
- NFR-014: Интеграция и миграция
- NFR-015: Мониторинг

### Средний приоритет
- NFR-006: Расширенная масштабируемость (планирование на 5 лет)
- NFR-012: Адаптивность интерфейса

---

**Всего требований**: 15  
**Статус**: Утверждено  
**Дата**: 2025-11-08
